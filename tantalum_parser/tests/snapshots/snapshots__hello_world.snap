---
source: tantalum_parser/tests/snapshots.rs
expression: ast
snapshot_kind: text
---
Ok([
  TopLevelExpression(
    span: Span(
      start: Location(
        file_name: "hello_world.ta",
        position: 0,
        line: 1,
        column: 1,
      ),
      end: Location(
        file_name: "hello_world.ta",
        position: 46,
        line: 1,
        column: 47,
      ),
    ),
    kind: ExternalFunction(
      name: "printf",
      parameters: [
        Parameter(
          span: Span(
            start: Location(
              file_name: "hello_world.ta",
              position: 17,
              line: 1,
              column: 18,
            ),
            end: Location(
              file_name: "hello_world.ta",
              position: 34,
              line: 1,
              column: 35,
            ),
          ),
          kind: Named(
            name: "format",
            ty: Type(
              span: Span(
                start: Location(
                  file_name: "hello_world.ta",
                  position: 25,
                  line: 1,
                  column: 26,
                ),
                end: Location(
                  file_name: "hello_world.ta",
                  position: 34,
                  line: 1,
                  column: 35,
                ),
              ),
              kind: Pointer(Type(
                span: Span(
                  start: Location(
                    file_name: "hello_world.ta",
                    position: 26,
                    line: 1,
                    column: 27,
                  ),
                  end: Location(
                    file_name: "hello_world.ta",
                    position: 34,
                    line: 1,
                    column: 35,
                  ),
                ),
                kind: Const(Type(
                  span: Span(
                    start: Location(
                      file_name: "hello_world.ta",
                      position: 32,
                      line: 1,
                      column: 33,
                    ),
                    end: Location(
                      file_name: "hello_world.ta",
                      position: 34,
                      line: 1,
                      column: 35,
                    ),
                  ),
                  kind: Named("u8"),
                )),
              )),
            ),
          ),
        ),
      ],
      return_type: Type(
        span: Span(
          start: Location(
            file_name: "hello_world.ta",
            position: 42,
            line: 1,
            column: 43,
          ),
          end: Location(
            file_name: "hello_world.ta",
            position: 45,
            line: 1,
            column: 46,
          ),
        ),
        kind: Named("i32"),
      ),
      is_variadic: true,
    ),
  ),
  TopLevelExpression(
    span: Span(
      start: Location(
        file_name: "hello_world.ta",
        position: 48,
        line: 3,
        column: 1,
      ),
      end: Location(
        file_name: "hello_world.ta",
        position: 122,
        line: 7,
        column: 2,
      ),
    ),
    kind: FunctionDeclaration(
      name: "main",
      parameters: [],
      return_type: Type(
        span: Span(
          start: Location(
            file_name: "hello_world.ta",
            position: 59,
            line: 3,
            column: 12,
          ),
          end: Location(
            file_name: "hello_world.ta",
            position: 62,
            line: 3,
            column: 15,
          ),
        ),
        kind: Named("i32"),
      ),
      body: Statement(
        span: Span(
          start: Location(
            file_name: "hello_world.ta",
            position: 63,
            line: 3,
            column: 16,
          ),
          end: Location(
            file_name: "hello_world.ta",
            position: 122,
            line: 7,
            column: 2,
          ),
        ),
        kind: Block(
          statements: [
            Statement(
              span: Span(
                start: Location(
                  file_name: "hello_world.ta",
                  position: 69,
                  line: 4,
                  column: 5,
                ),
                end: Location(
                  file_name: "hello_world.ta",
                  position: 97,
                  line: 4,
                  column: 33,
                ),
              ),
              kind: Expression(
                expression: Expression(
                  span: Span(
                    start: Location(
                      file_name: "hello_world.ta",
                      position: 69,
                      line: 4,
                      column: 5,
                    ),
                    end: Location(
                      file_name: "hello_world.ta",
                      position: 96,
                      line: 4,
                      column: 32,
                    ),
                  ),
                  kind: FunctionCall(
                    source: Expression(
                      span: Span(
                        start: Location(
                          file_name: "hello_world.ta",
                          position: 69,
                          line: 4,
                          column: 5,
                        ),
                        end: Location(
                          file_name: "hello_world.ta",
                          position: 75,
                          line: 4,
                          column: 11,
                        ),
                      ),
                      kind: Variable(
                        name: "printf",
                      ),
                    ),
                    arguments: [
                      Expression(
                        span: Span(
                          start: Location(
                            file_name: "hello_world.ta",
                            position: 76,
                            line: 4,
                            column: 12,
                          ),
                          end: Location(
                            file_name: "hello_world.ta",
                            position: 95,
                            line: 4,
                            column: 31,
                          ),
                        ),
                        kind: UnaryOperation(
                          operator: UnaryOperator(
                            span: Span(
                              start: Location(
                                file_name: "hello_world.ta",
                                position: 93,
                                line: 4,
                                column: 29,
                              ),
                              end: Location(
                                file_name: "hello_world.ta",
                                position: 95,
                                line: 4,
                                column: 31,
                              ),
                            ),
                            kind: AddressOf,
                          ),
                          operand: Expression(
                            span: Span(
                              start: Location(
                                file_name: "hello_world.ta",
                                position: 76,
                                line: 4,
                                column: 12,
                              ),
                              end: Location(
                                file_name: "hello_world.ta",
                                position: 93,
                                line: 4,
                                column: 29,
                              ),
                            ),
                            kind: StringLiteral(
                              value: "\"Hello, World!\\n\"",
                            ),
                          ),
                        ),
                      ),
                    ],
                  ),
                ),
              ),
            ),
            Statement(
              span: Span(
                start: Location(
                  file_name: "hello_world.ta",
                  position: 103,
                  line: 6,
                  column: 5,
                ),
                end: Location(
                  file_name: "hello_world.ta",
                  position: 120,
                  line: 6,
                  column: 22,
                ),
              ),
              kind: Return(
                value: Some(Expression(
                  span: Span(
                    start: Location(
                      file_name: "hello_world.ta",
                      position: 110,
                      line: 6,
                      column: 12,
                    ),
                    end: Location(
                      file_name: "hello_world.ta",
                      position: 119,
                      line: 6,
                      column: 21,
                    ),
                  ),
                  kind: BinaryOperation(
                    left: Expression(
                      span: Span(
                        start: Location(
                          file_name: "hello_world.ta",
                          position: 110,
                          line: 6,
                          column: 12,
                        ),
                        end: Location(
                          file_name: "hello_world.ta",
                          position: 115,
                          line: 6,
                          column: 17,
                        ),
                      ),
                      kind: BinaryOperation(
                        left: Expression(
                          span: Span(
                            start: Location(
                              file_name: "hello_world.ta",
                              position: 110,
                              line: 6,
                              column: 12,
                            ),
                            end: Location(
                              file_name: "hello_world.ta",
                              position: 111,
                              line: 6,
                              column: 13,
                            ),
                          ),
                          kind: IntegerLiteral(
                            value: "3",
                            radix: 10,
                          ),
                        ),
                        operator: BinaryOperator(
                          span: Span(
                            start: Location(
                              file_name: "hello_world.ta",
                              position: 112,
                              line: 6,
                              column: 14,
                            ),
                            end: Location(
                              file_name: "hello_world.ta",
                              position: 113,
                              line: 6,
                              column: 15,
                            ),
                          ),
                          kind: Multiplication,
                        ),
                        right: Expression(
                          span: Span(
                            start: Location(
                              file_name: "hello_world.ta",
                              position: 114,
                              line: 6,
                              column: 16,
                            ),
                            end: Location(
                              file_name: "hello_world.ta",
                              position: 115,
                              line: 6,
                              column: 17,
                            ),
                          ),
                          kind: IntegerLiteral(
                            value: "7",
                            radix: 10,
                          ),
                        ),
                      ),
                    ),
                    operator: BinaryOperator(
                      span: Span(
                        start: Location(
                          file_name: "hello_world.ta",
                          position: 116,
                          line: 6,
                          column: 18,
                        ),
                        end: Location(
                          file_name: "hello_world.ta",
                          position: 117,
                          line: 6,
                          column: 19,
                        ),
                      ),
                      kind: Addition,
                    ),
                    right: Expression(
                      span: Span(
                        start: Location(
                          file_name: "hello_world.ta",
                          position: 118,
                          line: 6,
                          column: 20,
                        ),
                        end: Location(
                          file_name: "hello_world.ta",
                          position: 119,
                          line: 6,
                          column: 21,
                        ),
                      ),
                      kind: IntegerLiteral(
                        value: "2",
                        radix: 10,
                      ),
                    ),
                  ),
                )),
              ),
            ),
          ],
        ),
      ),
    ),
  ),
])
